{"ast":null,"code":"// import React, { useEffect, useRef, useState } from \"react\";\n// import { WrapperHeader, WrapperUploadFile } from \"./style\";\n// import { Button, Form, message } from \"antd\";\n// import TableComponent from \"../TableComponent/TableComponent\";\n// import { useSelector } from \"react-redux\";\n// import { useMutationHooks } from \"../../hooks/userMutationHook\";\n// import * as UserService from \"../../services/UserService.js\";\n// import { useQuery } from \"@tanstack/react-query\";\n// import {\n//   DeleteOutlined,\n//   EditOutlined,\n//   SearchOutlined,\n// } from \"@ant-design/icons\";\n// import ModalComponent from \"../ModalComponent/ModalComponent\";\n// import InputComponent from \"../InputComponent/InputComponent\";\n// import DrawerComponent from \"../DrawerComponent/DrawerComponent\";\n// import { getBase64 } from \"../../utils\";\n// const AdminUser = () => {\n//   const [isOpenDrawer, setIsOpenDrawer] = useState(false);\n//   const [rowSelected, setRowSelected] = useState(\"\");\n//   const [isLoadingUpdate, setIsLoadingUpdate] = useState(false);\n//   const [isModalOpenDelete, setIsModalOpenDelete] = useState(false);\n//   const user = useSelector((state) => state?.user);\n//   const [stateUserDetails, setStateUserDetails] = useState({\n//     userName: \"\",\n//     email: \"\",\n//     password: \"\",\n//     isAdmin: \"\",\n//     phone: \"\",\n//     address: \"\",\n//     avatar: \"\",\n//   });\n//   const [form] = Form.useForm();\n//   const getAllUsers = async () => {\n//     const res = await UserService.getAllUser(user?.access_token);\n//     console.log(\"res\", res);\n//     return res;\n//   };\n//   const queryUser = useQuery({\n//     queryKey: [\"users\"],\n//     queryFn: getAllUsers,\n//   });\n//   const { isLoading: isLoadingUsers, data: users } = queryUser;\n//   const onUpdateUser = () => {\n//     mutationUpdate.mutate(\n//       {\n//         id: rowSelected,\n//         token: user?.access_token,\n//         ...stateUserDetails,\n//       },\n//       {\n//         onSettled: () => {\n//           queryUser.refetch();\n//         },\n//       }\n//     );\n//   };\n//   const mutationDelete = useMutationHooks(async (data) => {\n//     const { id, token } = data;\n//     const res = await UserService.deleteUser(id, token);\n//     return res;\n//   });\n//   const mutationUpdate = useMutationHooks(async (data) => {\n//     const { id, token, ...rests } = data;\n//     const res = await UserService.updateUser(id, { ...rests }, token);\n//     return res;\n//   });\n//   const mutationDeleteMany = useMutationHooks(async (data) => {\n//     const { token, ...ids } = data;\n//     const res = await UserService.deleteManyUser(ids, token);\n//     return res;\n//   });\n//   const handleDeleteManyUsers = (ids) => {\n//     mutationDeleteMany.mutate(\n//       { ids: ids, token: user?.access_token },\n//       {\n//         onSettled: () => {\n//           queryUser.refetch();\n//         },\n//       }\n//     );\n//   };\n//   const {\n//     data: dataDeleted,\n//     isLoading: isLoadingDeleted,\n//     isSuccess: isSuccessDeleted,\n//     isError: isErrorDeleted,\n//   } = mutationDelete;\n//   const {\n//     data: dataDeletedMany,\n//     isLoading: isLoadingDeletedMany,\n//     isSuccess: isSuccessDeletedMany,\n//     isError: isErrorDeletedMany,\n//   } = mutationDeleteMany;\n//   const {\n//     data: dataUpdated,\n//     isLoading: isLoadingUpdated,\n//     isSuccess: isSuccessUpdated,\n//     isError: isErrorUpdated,\n//   } = mutationUpdate;\n//   const fetchGetDetailsUser = async () => {\n//     const res = await UserService.getDetailsUser(\n//       rowSelected,\n//       user?.access_token\n//     );\n//     if (res?.data) {\n//       setStateUserDetails({\n//         userName: res?.data?.userName,\n//         email: res?.data?.email,\n//         password: res?.data?.password,\n//         isAdmin: res?.data?.isAdmin,\n//         phone: res?.data?.phone,\n//         address: res?.data?.address,\n//         avatar: res?.data?.avatar,\n//       });\n//     }\n//     setIsLoadingUpdate(false);\n//   };\n//   useEffect(() => {\n//     form.setFieldsValue(stateUserDetails);\n//   }, [form, stateUserDetails]);\n//   useEffect(() => {\n//     if (rowSelected && isOpenDrawer) {\n//       setIsLoadingUpdate(true);\n//       fetchGetDetailsUser(rowSelected);\n//     }\n//     // setIsOpenDrawer(true);\n//   }, [rowSelected, isOpenDrawer]);\n//   const renderAction = () => {\n//     return (\n//       <div>\n//         <DeleteOutlined\n//           style={{ color: \"red\", fontSize: \"30px\", cursor: \"pointer\" }}\n//           onClick={() => setIsModalOpenDelete(true)}\n//         />\n//         <EditOutlined\n//           style={{ color: \"orange\", fontSize: \"30px\", cursor: \"pointer\" }}\n//           onClick={handleDetailsUsers}\n//         />\n//       </div>\n//     );\n//   };\n//   const [searchText, setSearchText] = useState(\"\");\n//   const [searchedColumn, setSearchedColumn] = useState(\"\");\n//   const searchInput = useRef(null);\n//   const handleSearch = (selectedKeys, confirm, dataIndex) => {\n//     confirm();\n//     setSearchText(selectedKeys[0]);\n//     setSearchedColumn(dataIndex);\n//   };\n//   const handleReset = (clearFilters) => {\n//     clearFilters();\n//     setSearchText(\"\");\n//   };\n//   const getColumnSearchProps = (dataIndex) => ({\n//     filterDropdown: ({\n//       setSelectedKeys,\n//       selectedKeys,\n//       confirm,\n//       clearFilters,\n//     }) => (\n//       <div\n//         style={{\n//           padding: 8,\n//         }}\n//         onKeyDown={(e) => e.stopPropagation()}\n//       >\n//         <InputComponent\n//           ref={searchInput}\n//           placeholder={`Search ${dataIndex}`}\n//           value={selectedKeys[0]}\n//           onChange={(e) =>\n//             setSelectedKeys(e.target.value ? [e.target.value] : [])\n//           }\n//           onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\n//           style={{\n//             marginBottom: 8,\n//             display: \"block\",\n//           }}\n//         />\n//         <Button\n//           type=\"primary\"\n//           onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\n//           icon={<SearchOutlined />}\n//           size=\"small\"\n//           style={{\n//             width: 90,\n//           }}\n//         >\n//           Search\n//         </Button>\n//         <Button\n//           onClick={() => clearFilters && handleReset(clearFilters)}\n//           size=\"small\"\n//           style={{\n//             width: 90,\n//           }}\n//         >\n//           Reset\n//         </Button>\n//       </div>\n//     ),\n//     filterIcon: (filtered) => (\n//       <SearchOutlined\n//         style={{\n//           color: filtered ? \"#1890ff\" : undefined,\n//         }}\n//       />\n//     ),\n//     onFilter: (value, record) =>\n//       record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()),\n//     onFilterDropdownOpenChange: (visible) => {\n//       if (visible) {\n//         setTimeout(() => searchInput.current?.select(), 100);\n//       }\n//     },\n//   });\n//   const columns = [\n//     {\n//       title: \"UserName\",\n//       dataIndex: \"userName\",\n//       sorter: (a, b) => a.userName.length - b.userName.length,\n//       ...getColumnSearchProps(\"userName\"),\n//     },\n//     {\n//       title: \"Email\",\n//       dataIndex: \"email\",\n//       sorter: (a, b) => a.email - b.email,\n//       ...getColumnSearchProps(\"email\"),\n//     },\n//     {\n//       title: \"Admin\",\n//       dataIndex: \"isAdmin\",\n//       filters: [\n//         {\n//           text: \"True\",\n//           value: true,\n//         },\n//         {\n//           text: \"False\",\n//           value: false,\n//         },\n//       ],\n//     },\n//     {\n//       title: \"Phone\",\n//       dataIndex: \"phone\",\n//       sorter: (a, b) => a.phone - b.phone,\n//       ...getColumnSearchProps(\"phone\"),\n//     },\n//     {\n//       title: \"Address\",\n//       dataIndex: \"address\",\n//     },\n//     {\n//       title: \"Action\",\n//       dataIndex: \"action\",\n//       render: renderAction,\n//     },\n//   ];\n//   const dataTable =\n//     users?.data?.length &&\n//     users?.data?.map((user) => {\n//       return {\n//         ...user,\n//         key: user._id,\n//         isAdmin: user.isAdmin ? \"TRUE\" : \"FALSE\",\n//       };\n//     });\n//   const handleCloseDrawer = () => {\n//     setIsOpenDrawer(false);\n//     setStateUserDetails({\n//       userName: \"\",\n//       email: \"\",\n//       password: \"\",\n//       isAdmin: \"\",\n//       phone: \"\",\n//       address: \"\",\n//       avatar: \"\",\n//     });\n//     form.resetFields();\n//   };\n//   useEffect(() => {\n//     if (isSuccessUpdated && dataUpdated?.status === \"OK\") {\n//       message.success();\n//       handleCloseDrawer();\n//     } else if (isErrorUpdated) {\n//       message.error();\n//     }\n//   }, [isSuccessUpdated, isErrorUpdated]);\n//   useEffect(() => {\n//     if (isSuccessDeleted && dataDeleted?.status === \"OK\") {\n//       message.success();\n//       handleCancelDelete();\n//     } else if (isErrorDeleted) {\n//       message.error();\n//     }\n//   }, [isSuccessDeleted, isErrorDeleted]);\n//   useEffect(() => {\n//     if (isSuccessDeletedMany && dataDeletedMany?.status === \"OK\") {\n//       message.success();\n//     } else if (isErrorDeletedMany) {\n//       message.error();\n//     }\n//   }, [isSuccessDeletedMany, isErrorDeletedMany]);\n//   const handleDetailsUsers = () => {\n//     setIsOpenDrawer(true);\n//   };\n//   const handleOnchangeAvatarDetails = async ({ fileList }) => {\n//     const file = fileList[0];\n//     if (!file.url && !file.preview) {\n//       file.preview = await getBase64(file.originFileObj);\n//     }\n//     console.log(\"file\", file.preview);\n//     setStateUserDetails({\n//       ...stateUserDetails,\n//       avatar: file.preview,\n//     });\n//   };\n//   const handleCancelDelete = () => {\n//     setIsModalOpenDelete(false);\n//   };\n//   const handleDeleteUser = () => {\n//     mutationDelete.mutate(\n//       { id: rowSelected, token: user?.access_token },\n//       {\n//         onSettled: () => {\n//           queryUser.refetch();\n//         },\n//       }\n//     );\n//   };\n//   const handleOnchangeDetails = (e) => {\n//     setStateUserDetails({\n//       ...stateUserDetails,\n//       [e.target.name]: e.target.value,\n//     });\n//   };\n//   return (\n//     <div style={{ marginTop: \"10px\" }}>\n//       <WrapperHeader>Manager Users</WrapperHeader>\n//       <div style={{ marginTop: \"20px\" }}>\n//         <TableComponent\n//           handleDeleteMany={handleDeleteManyUsers}\n//           columns={columns}\n//           isLoading={isLoadingUsers}\n//           data={dataTable}\n//           onRow={(record, rowIndex) => {\n//             return {\n//               onClick: (event) => {\n//                 setRowSelected(record._id);\n//               },\n//             };\n//           }}\n//         />\n//       </div>\n//       <DrawerComponent\n//         title=\"Details User\"\n//         isOpen={isOpenDrawer}\n//         onClose={() => setIsOpenDrawer(false)}\n//         width=\"90%\"\n//       >\n//         <Form\n//           name=\"basic\"\n//           labelCol={{ span: 6 }}\n//           wrapperCol={{ span: 18 }}\n//           style={{ maxWidth: 600 }}\n//           initialValues={{ remember: true }}\n//           onFinish={onUpdateUser}\n//           autoComplete=\"on\"\n//           form={form}\n//         >\n//           <Form.Item\n//             label=\"UserName\"\n//             name=\"userName\"\n//             rules={[{ required: true, message: \"Please input userName!\" }]}\n//           >\n//             <InputComponent\n//               value={stateUserDetails.userName}\n//               onChange={handleOnchangeDetails}\n//               name=\"userName\"\n//             />\n//           </Form.Item>\n//           <Form.Item\n//             label=\"Email\"\n//             name=\"email\"\n//             rules={[{ required: true, message: \"Please input email!\" }]}\n//           >\n//             <InputComponent\n//               value={stateUserDetails.email}\n//               onChange={handleOnchangeDetails}\n//               name=\"email\"\n//             />\n//           </Form.Item>\n//           <Form.Item\n//             label=\"Password\"\n//             name=\"password\"\n//             rules={[{ required: true, message: \"Please input password!\" }]}\n//           >\n//             <InputComponent\n//               value={stateUserDetails.password}\n//               onChange={handleOnchangeDetails}\n//               name=\"password\"\n//             />\n//           </Form.Item>\n//           <Form.Item\n//             label=\"Admin\"\n//             name=\"isAdmin\"\n//             rules={[{ required: true, message: \"Please input isAdmin!\" }]}\n//           >\n//             <InputComponent\n//               value={stateUserDetails.isAdmin}\n//               onChange={handleOnchangeDetails}\n//               name=\"isAdmin\"\n//             />\n//           </Form.Item>\n//           <Form.Item\n//             label=\"Phone\"\n//             name=\"phone\"\n//             rules={[{ required: true, message: \"Please input phone!\" }]}\n//           >\n//             <InputComponent\n//               value={stateUserDetails.phone}\n//               onChange={handleOnchangeDetails}\n//               name=\"phone\"\n//             />\n//           </Form.Item>\n//           <Form.Item\n//             label=\"Address\"\n//             name=\"address\"\n//             rules={[{ required: true, message: \"Please input address!\" }]}\n//           >\n//             <InputComponent\n//               value={stateUserDetails.address}\n//               onChange={handleOnchangeDetails}\n//               name=\"address\"\n//             />\n//           </Form.Item>\n//           <Form.Item\n//             label=\"Avatar\"\n//             name=\"avatar\"\n//             rules={[{ required: true, message: \"Please input avatar!\" }]}\n//           >\n//             <WrapperUploadFile\n//               onChange={handleOnchangeAvatarDetails}\n//               maxCount={1}\n//             >\n//               <Button type=\"button\">Select File</Button>\n//               {stateUserDetails?.avatar && (\n//                 <img\n//                   src={stateUserDetails?.avatar}\n//                   style={{\n//                     height: \"60px\",\n//                     width: \"60px\",\n//                     borderRadius: \"50%\",\n//                     objectFit: \"cover\",\n//                     marginLeft: \"10px\",\n//                   }}\n//                   alt=\"game\"\n//                 />\n//               )}\n//             </WrapperUploadFile>\n//           </Form.Item>\n//           <Form.Item wrapperCol={{ offset: 20, span: 16 }}>\n//             <Button type=\"primary\" htmlType=\"submit\">\n//               Submit\n//             </Button>\n//           </Form.Item>\n//         </Form>\n//       </DrawerComponent>\n//       <ModalComponent\n//         title=\"Delete User\"\n//         open={isModalOpenDelete}\n//         onCancel={handleCancelDelete}\n//         onOk={handleDeleteUser}\n//       >\n//         <div>Are you sure delete this user?</div>\n//       </ModalComponent>\n//     </div>\n//   );\n// };\n// export default AdminUser;","map":{"version":3,"sources":["D:/class/cnWeb/QLNH/client_app/src/AdminPage/AdminUser.jsx"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["// import React, { useEffect, useRef, useState } from \"react\";\r\n// import { WrapperHeader, WrapperUploadFile } from \"./style\";\r\n// import { Button, Form, message } from \"antd\";\r\n// import TableComponent from \"../TableComponent/TableComponent\";\r\n// import { useSelector } from \"react-redux\";\r\n// import { useMutationHooks } from \"../../hooks/userMutationHook\";\r\n// import * as UserService from \"../../services/UserService.js\";\r\n// import { useQuery } from \"@tanstack/react-query\";\r\n// import {\r\n//   DeleteOutlined,\r\n//   EditOutlined,\r\n//   SearchOutlined,\r\n// } from \"@ant-design/icons\";\r\n// import ModalComponent from \"../ModalComponent/ModalComponent\";\r\n// import InputComponent from \"../InputComponent/InputComponent\";\r\n// import DrawerComponent from \"../DrawerComponent/DrawerComponent\";\r\n// import { getBase64 } from \"../../utils\";\r\n\r\n// const AdminUser = () => {\r\n//   const [isOpenDrawer, setIsOpenDrawer] = useState(false);\r\n//   const [rowSelected, setRowSelected] = useState(\"\");\r\n//   const [isLoadingUpdate, setIsLoadingUpdate] = useState(false);\r\n//   const [isModalOpenDelete, setIsModalOpenDelete] = useState(false);\r\n\r\n//   const user = useSelector((state) => state?.user);\r\n\r\n//   const [stateUserDetails, setStateUserDetails] = useState({\r\n//     userName: \"\",\r\n//     email: \"\",\r\n//     password: \"\",\r\n//     isAdmin: \"\",\r\n//     phone: \"\",\r\n//     address: \"\",\r\n//     avatar: \"\",\r\n//   });\r\n\r\n//   const [form] = Form.useForm();\r\n\r\n//   const getAllUsers = async () => {\r\n//     const res = await UserService.getAllUser(user?.access_token);\r\n//     console.log(\"res\", res);\r\n//     return res;\r\n//   };\r\n//   const queryUser = useQuery({\r\n//     queryKey: [\"users\"],\r\n//     queryFn: getAllUsers,\r\n//   });\r\n\r\n//   const { isLoading: isLoadingUsers, data: users } = queryUser;\r\n//   const onUpdateUser = () => {\r\n//     mutationUpdate.mutate(\r\n//       {\r\n//         id: rowSelected,\r\n//         token: user?.access_token,\r\n//         ...stateUserDetails,\r\n//       },\r\n//       {\r\n//         onSettled: () => {\r\n//           queryUser.refetch();\r\n//         },\r\n//       }\r\n//     );\r\n//   };\r\n\r\n//   const mutationDelete = useMutationHooks(async (data) => {\r\n//     const { id, token } = data;\r\n//     const res = await UserService.deleteUser(id, token);\r\n//     return res;\r\n//   });\r\n//   const mutationUpdate = useMutationHooks(async (data) => {\r\n//     const { id, token, ...rests } = data;\r\n//     const res = await UserService.updateUser(id, { ...rests }, token);\r\n//     return res;\r\n//   });\r\n\r\n//   const mutationDeleteMany = useMutationHooks(async (data) => {\r\n//     const { token, ...ids } = data;\r\n//     const res = await UserService.deleteManyUser(ids, token);\r\n//     return res;\r\n//   });\r\n//   const handleDeleteManyUsers = (ids) => {\r\n//     mutationDeleteMany.mutate(\r\n//       { ids: ids, token: user?.access_token },\r\n//       {\r\n//         onSettled: () => {\r\n//           queryUser.refetch();\r\n//         },\r\n//       }\r\n//     );\r\n//   };\r\n//   const {\r\n//     data: dataDeleted,\r\n//     isLoading: isLoadingDeleted,\r\n//     isSuccess: isSuccessDeleted,\r\n//     isError: isErrorDeleted,\r\n//   } = mutationDelete;\r\n\r\n//   const {\r\n//     data: dataDeletedMany,\r\n//     isLoading: isLoadingDeletedMany,\r\n//     isSuccess: isSuccessDeletedMany,\r\n//     isError: isErrorDeletedMany,\r\n//   } = mutationDeleteMany;\r\n\r\n//   const {\r\n//     data: dataUpdated,\r\n//     isLoading: isLoadingUpdated,\r\n//     isSuccess: isSuccessUpdated,\r\n//     isError: isErrorUpdated,\r\n//   } = mutationUpdate;\r\n\r\n//   const fetchGetDetailsUser = async () => {\r\n//     const res = await UserService.getDetailsUser(\r\n//       rowSelected,\r\n//       user?.access_token\r\n//     );\r\n//     if (res?.data) {\r\n//       setStateUserDetails({\r\n//         userName: res?.data?.userName,\r\n//         email: res?.data?.email,\r\n//         password: res?.data?.password,\r\n//         isAdmin: res?.data?.isAdmin,\r\n//         phone: res?.data?.phone,\r\n//         address: res?.data?.address,\r\n//         avatar: res?.data?.avatar,\r\n//       });\r\n//     }\r\n//     setIsLoadingUpdate(false);\r\n//   };\r\n//   useEffect(() => {\r\n//     form.setFieldsValue(stateUserDetails);\r\n//   }, [form, stateUserDetails]);\r\n\r\n//   useEffect(() => {\r\n//     if (rowSelected && isOpenDrawer) {\r\n//       setIsLoadingUpdate(true);\r\n//       fetchGetDetailsUser(rowSelected);\r\n//     }\r\n//     // setIsOpenDrawer(true);\r\n//   }, [rowSelected, isOpenDrawer]);\r\n\r\n//   const renderAction = () => {\r\n//     return (\r\n//       <div>\r\n//         <DeleteOutlined\r\n//           style={{ color: \"red\", fontSize: \"30px\", cursor: \"pointer\" }}\r\n//           onClick={() => setIsModalOpenDelete(true)}\r\n//         />\r\n//         <EditOutlined\r\n//           style={{ color: \"orange\", fontSize: \"30px\", cursor: \"pointer\" }}\r\n//           onClick={handleDetailsUsers}\r\n//         />\r\n//       </div>\r\n//     );\r\n//   };\r\n\r\n//   const [searchText, setSearchText] = useState(\"\");\r\n//   const [searchedColumn, setSearchedColumn] = useState(\"\");\r\n//   const searchInput = useRef(null);\r\n\r\n//   const handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n//     confirm();\r\n//     setSearchText(selectedKeys[0]);\r\n//     setSearchedColumn(dataIndex);\r\n//   };\r\n\r\n//   const handleReset = (clearFilters) => {\r\n//     clearFilters();\r\n//     setSearchText(\"\");\r\n//   };\r\n\r\n//   const getColumnSearchProps = (dataIndex) => ({\r\n//     filterDropdown: ({\r\n//       setSelectedKeys,\r\n//       selectedKeys,\r\n//       confirm,\r\n//       clearFilters,\r\n//     }) => (\r\n//       <div\r\n//         style={{\r\n//           padding: 8,\r\n//         }}\r\n//         onKeyDown={(e) => e.stopPropagation()}\r\n//       >\r\n//         <InputComponent\r\n//           ref={searchInput}\r\n//           placeholder={`Search ${dataIndex}`}\r\n//           value={selectedKeys[0]}\r\n//           onChange={(e) =>\r\n//             setSelectedKeys(e.target.value ? [e.target.value] : [])\r\n//           }\r\n//           onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n//           style={{\r\n//             marginBottom: 8,\r\n//             display: \"block\",\r\n//           }}\r\n//         />\r\n\r\n//         <Button\r\n//           type=\"primary\"\r\n//           onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n//           icon={<SearchOutlined />}\r\n//           size=\"small\"\r\n//           style={{\r\n//             width: 90,\r\n//           }}\r\n//         >\r\n//           Search\r\n//         </Button>\r\n//         <Button\r\n//           onClick={() => clearFilters && handleReset(clearFilters)}\r\n//           size=\"small\"\r\n//           style={{\r\n//             width: 90,\r\n//           }}\r\n//         >\r\n//           Reset\r\n//         </Button>\r\n//       </div>\r\n//     ),\r\n//     filterIcon: (filtered) => (\r\n//       <SearchOutlined\r\n//         style={{\r\n//           color: filtered ? \"#1890ff\" : undefined,\r\n//         }}\r\n//       />\r\n//     ),\r\n//     onFilter: (value, record) =>\r\n//       record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()),\r\n//     onFilterDropdownOpenChange: (visible) => {\r\n//       if (visible) {\r\n//         setTimeout(() => searchInput.current?.select(), 100);\r\n//       }\r\n//     },\r\n//   });\r\n\r\n//   const columns = [\r\n//     {\r\n//       title: \"UserName\",\r\n//       dataIndex: \"userName\",\r\n//       sorter: (a, b) => a.userName.length - b.userName.length,\r\n//       ...getColumnSearchProps(\"userName\"),\r\n//     },\r\n//     {\r\n//       title: \"Email\",\r\n//       dataIndex: \"email\",\r\n//       sorter: (a, b) => a.email - b.email,\r\n//       ...getColumnSearchProps(\"email\"),\r\n//     },\r\n//     {\r\n//       title: \"Admin\",\r\n//       dataIndex: \"isAdmin\",\r\n//       filters: [\r\n//         {\r\n//           text: \"True\",\r\n//           value: true,\r\n//         },\r\n//         {\r\n//           text: \"False\",\r\n//           value: false,\r\n//         },\r\n//       ],\r\n//     },\r\n//     {\r\n//       title: \"Phone\",\r\n//       dataIndex: \"phone\",\r\n//       sorter: (a, b) => a.phone - b.phone,\r\n//       ...getColumnSearchProps(\"phone\"),\r\n//     },\r\n//     {\r\n//       title: \"Address\",\r\n//       dataIndex: \"address\",\r\n//     },\r\n//     {\r\n//       title: \"Action\",\r\n//       dataIndex: \"action\",\r\n//       render: renderAction,\r\n//     },\r\n//   ];\r\n\r\n//   const dataTable =\r\n//     users?.data?.length &&\r\n//     users?.data?.map((user) => {\r\n//       return {\r\n//         ...user,\r\n//         key: user._id,\r\n//         isAdmin: user.isAdmin ? \"TRUE\" : \"FALSE\",\r\n//       };\r\n//     });\r\n\r\n//   const handleCloseDrawer = () => {\r\n//     setIsOpenDrawer(false);\r\n//     setStateUserDetails({\r\n//       userName: \"\",\r\n//       email: \"\",\r\n//       password: \"\",\r\n//       isAdmin: \"\",\r\n//       phone: \"\",\r\n//       address: \"\",\r\n//       avatar: \"\",\r\n//     });\r\n//     form.resetFields();\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     if (isSuccessUpdated && dataUpdated?.status === \"OK\") {\r\n//       message.success();\r\n//       handleCloseDrawer();\r\n//     } else if (isErrorUpdated) {\r\n//       message.error();\r\n//     }\r\n//   }, [isSuccessUpdated, isErrorUpdated]);\r\n\r\n//   useEffect(() => {\r\n//     if (isSuccessDeleted && dataDeleted?.status === \"OK\") {\r\n//       message.success();\r\n//       handleCancelDelete();\r\n//     } else if (isErrorDeleted) {\r\n//       message.error();\r\n//     }\r\n//   }, [isSuccessDeleted, isErrorDeleted]);\r\n\r\n//   useEffect(() => {\r\n//     if (isSuccessDeletedMany && dataDeletedMany?.status === \"OK\") {\r\n//       message.success();\r\n//     } else if (isErrorDeletedMany) {\r\n//       message.error();\r\n//     }\r\n//   }, [isSuccessDeletedMany, isErrorDeletedMany]);\r\n//   const handleDetailsUsers = () => {\r\n//     setIsOpenDrawer(true);\r\n//   };\r\n//   const handleOnchangeAvatarDetails = async ({ fileList }) => {\r\n//     const file = fileList[0];\r\n//     if (!file.url && !file.preview) {\r\n//       file.preview = await getBase64(file.originFileObj);\r\n//     }\r\n\r\n//     console.log(\"file\", file.preview);\r\n//     setStateUserDetails({\r\n//       ...stateUserDetails,\r\n//       avatar: file.preview,\r\n//     });\r\n//   };\r\n//   const handleCancelDelete = () => {\r\n//     setIsModalOpenDelete(false);\r\n//   };\r\n\r\n//   const handleDeleteUser = () => {\r\n//     mutationDelete.mutate(\r\n//       { id: rowSelected, token: user?.access_token },\r\n//       {\r\n//         onSettled: () => {\r\n//           queryUser.refetch();\r\n//         },\r\n//       }\r\n//     );\r\n//   };\r\n\r\n//   const handleOnchangeDetails = (e) => {\r\n//     setStateUserDetails({\r\n//       ...stateUserDetails,\r\n//       [e.target.name]: e.target.value,\r\n//     });\r\n//   };\r\n\r\n//   return (\r\n//     <div style={{ marginTop: \"10px\" }}>\r\n//       <WrapperHeader>Manager Users</WrapperHeader>\r\n//       <div style={{ marginTop: \"20px\" }}>\r\n//         <TableComponent\r\n//           handleDeleteMany={handleDeleteManyUsers}\r\n//           columns={columns}\r\n//           isLoading={isLoadingUsers}\r\n//           data={dataTable}\r\n//           onRow={(record, rowIndex) => {\r\n//             return {\r\n//               onClick: (event) => {\r\n//                 setRowSelected(record._id);\r\n//               },\r\n//             };\r\n//           }}\r\n//         />\r\n//       </div>\r\n\r\n//       <DrawerComponent\r\n//         title=\"Details User\"\r\n//         isOpen={isOpenDrawer}\r\n//         onClose={() => setIsOpenDrawer(false)}\r\n//         width=\"90%\"\r\n//       >\r\n//         <Form\r\n//           name=\"basic\"\r\n//           labelCol={{ span: 6 }}\r\n//           wrapperCol={{ span: 18 }}\r\n//           style={{ maxWidth: 600 }}\r\n//           initialValues={{ remember: true }}\r\n//           onFinish={onUpdateUser}\r\n//           autoComplete=\"on\"\r\n//           form={form}\r\n//         >\r\n//           <Form.Item\r\n//             label=\"UserName\"\r\n//             name=\"userName\"\r\n//             rules={[{ required: true, message: \"Please input userName!\" }]}\r\n//           >\r\n//             <InputComponent\r\n//               value={stateUserDetails.userName}\r\n//               onChange={handleOnchangeDetails}\r\n//               name=\"userName\"\r\n//             />\r\n//           </Form.Item>\r\n\r\n//           <Form.Item\r\n//             label=\"Email\"\r\n//             name=\"email\"\r\n//             rules={[{ required: true, message: \"Please input email!\" }]}\r\n//           >\r\n//             <InputComponent\r\n//               value={stateUserDetails.email}\r\n//               onChange={handleOnchangeDetails}\r\n//               name=\"email\"\r\n//             />\r\n//           </Form.Item>\r\n//           <Form.Item\r\n//             label=\"Password\"\r\n//             name=\"password\"\r\n//             rules={[{ required: true, message: \"Please input password!\" }]}\r\n//           >\r\n//             <InputComponent\r\n//               value={stateUserDetails.password}\r\n//               onChange={handleOnchangeDetails}\r\n//               name=\"password\"\r\n//             />\r\n//           </Form.Item>\r\n//           <Form.Item\r\n//             label=\"Admin\"\r\n//             name=\"isAdmin\"\r\n//             rules={[{ required: true, message: \"Please input isAdmin!\" }]}\r\n//           >\r\n//             <InputComponent\r\n//               value={stateUserDetails.isAdmin}\r\n//               onChange={handleOnchangeDetails}\r\n//               name=\"isAdmin\"\r\n//             />\r\n//           </Form.Item>\r\n//           <Form.Item\r\n//             label=\"Phone\"\r\n//             name=\"phone\"\r\n//             rules={[{ required: true, message: \"Please input phone!\" }]}\r\n//           >\r\n//             <InputComponent\r\n//               value={stateUserDetails.phone}\r\n//               onChange={handleOnchangeDetails}\r\n//               name=\"phone\"\r\n//             />\r\n//           </Form.Item>\r\n//           <Form.Item\r\n//             label=\"Address\"\r\n//             name=\"address\"\r\n//             rules={[{ required: true, message: \"Please input address!\" }]}\r\n//           >\r\n//             <InputComponent\r\n//               value={stateUserDetails.address}\r\n//               onChange={handleOnchangeDetails}\r\n//               name=\"address\"\r\n//             />\r\n//           </Form.Item>\r\n\r\n//           <Form.Item\r\n//             label=\"Avatar\"\r\n//             name=\"avatar\"\r\n//             rules={[{ required: true, message: \"Please input avatar!\" }]}\r\n//           >\r\n//             <WrapperUploadFile\r\n//               onChange={handleOnchangeAvatarDetails}\r\n//               maxCount={1}\r\n//             >\r\n//               <Button type=\"button\">Select File</Button>\r\n//               {stateUserDetails?.avatar && (\r\n//                 <img\r\n//                   src={stateUserDetails?.avatar}\r\n//                   style={{\r\n//                     height: \"60px\",\r\n//                     width: \"60px\",\r\n//                     borderRadius: \"50%\",\r\n//                     objectFit: \"cover\",\r\n//                     marginLeft: \"10px\",\r\n//                   }}\r\n//                   alt=\"game\"\r\n//                 />\r\n//               )}\r\n//             </WrapperUploadFile>\r\n//           </Form.Item>\r\n//           <Form.Item wrapperCol={{ offset: 20, span: 16 }}>\r\n//             <Button type=\"primary\" htmlType=\"submit\">\r\n//               Submit\r\n//             </Button>\r\n//           </Form.Item>\r\n//         </Form>\r\n//       </DrawerComponent>\r\n\r\n//       <ModalComponent\r\n//         title=\"Delete User\"\r\n//         open={isModalOpenDelete}\r\n//         onCancel={handleCancelDelete}\r\n//         onOk={handleDeleteUser}\r\n//       >\r\n//         <div>Are you sure delete this user?</div>\r\n//       </ModalComponent>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default AdminUser;\r\n"]},"metadata":{},"sourceType":"module"}