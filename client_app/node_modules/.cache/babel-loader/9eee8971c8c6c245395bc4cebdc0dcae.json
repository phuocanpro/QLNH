{"ast":null,"code":"var _jsxFileName = \"D:\\\\class\\\\cnWeb\\\\QLNH\\\\client_app\\\\src\\\\Checkout\\\\Checkout.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport io from \"socket.io-client\";\nimport './Checkout.css';\nimport OrderAPI from '../API/OrderAPI';\nimport Paypal from './Paypal';\nimport { useForm } from \"react-hook-form\";\nimport { Redirect } from 'react-router-dom';\nimport { changeCount } from '../Redux/Action/ActionCount';\nimport { useDispatch, useSelector } from 'react-redux';\nimport NoteAPI from '../API/NoteAPI';\nimport Detail_OrderAPI from '../API/Detail_OrderAPI';\nimport CouponAPI from '../API/CouponAPI';\nimport MoMo from './MoMo.jsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('https://hieusuper20hcm.herokuapp.com/', {\n  transports: ['websocket'],\n  jsonp: false\n});\nsocket.connect();\nCheckout.propTypes = {};\n\nfunction Checkout(props) {\n  _s();\n\n  const [orderID, setOrderID] = useState('');\n  const [carts, set_carts] = useState([]);\n  const [total_price, set_total_price] = useState(0);\n  const [discount, set_discount] = useState(0); // state load_map\n\n  const [load_map, set_load_map] = useState(true); // state load_order\n\n  const [load_order_status, set_load_order_status] = useState(false);\n  const [check_action, set_check_action] = useState(false);\n  useEffect(() => {\n    if (check_action) {\n      set_carts(JSON.parse(localStorage.getItem('carts')));\n      Sum_Price(JSON.parse(localStorage.getItem('carts')), 0);\n      set_check_action(false);\n    }\n  }, [check_action]); // Hàm này dùng để tính tổng tiền\n\n  function Sum_Price(carts, sum_price) {\n    carts.map(value => {\n      return sum_price += Number(value.count) * Number(value.price_product);\n    });\n    const total = Number(sum_price);\n\n    if (localStorage.getItem('coupon')) {\n      // GET localStorage\n      const coupon = JSON.parse(localStorage.getItem('coupon'));\n      set_discount(total * parseInt(coupon.promotion) / 100);\n      const newTotal = total - total * parseInt(coupon.promotion) / 100 + Number(price);\n      localStorage.setItem(\"total_price\", newTotal);\n      set_total_price(newTotal);\n    } else {\n      localStorage.setItem(\"total_price\", total + Number(price));\n      set_total_price(total + Number(price));\n    }\n  }\n\n  const [show_error, set_show_error] = useState(false);\n  const [information, set_information] = useState({\n    fullname: '',\n    phone: '',\n    address: '',\n    email: ''\n  });\n\n  const onChangeFullname = e => {\n    set_information({\n      fullname: e.target.value,\n      phone: information.phone,\n      address: information.address,\n      email: information.email\n    });\n  };\n\n  const onChangePhone = e => {\n    set_information({\n      fullname: information.fullname,\n      phone: e.target.value,\n      address: information.address,\n      email: information.email\n    });\n  };\n\n  const onChangeAddress = e => {\n    set_information({\n      fullname: information.fullname,\n      phone: information.phone,\n      address: e.target.value,\n      email: information.email\n    });\n  };\n\n  const onChangeEmail = e => {\n    set_information({\n      fullname: information.fullname,\n      phone: information.phone,\n      address: information.address,\n      email: e.target.value\n    });\n  }; // Hàm này dùng để check validation cho paypal\n\n\n  useEffect(() => {\n    checkValidation();\n  }, [information]); // Kiểm tra Paypal\n\n  function checkValidation() {\n    if (information.fullname === '') {\n      set_show_error(true);\n    } else {\n      if (information.phone === '') {\n        set_show_error(true);\n      } else {\n        if (information.email === '') {\n          localStorage.setItem('information', JSON.stringify(information));\n          set_show_error(true);\n        } else {\n          set_show_error(false);\n        }\n      }\n    }\n  }\n\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  const [redirect, set_redirect] = useState(false);\n  const [load_order, set_load_order] = useState(false);\n  const count_change = useSelector(state => state.Count.isLoad);\n  const dispatch = useDispatch(); // Hàm này dùng để thanh toán offline\n\n  const handler_Checkout = async data => {\n    set_load_order(true);\n\n    if (localStorage.getItem(\"id_coupon\")) {\n      const responseUpdate = await CouponAPI.updateCoupon(localStorage.getItem(\"id_coupon\"));\n      console.log(responseUpdate);\n    } // data Delivery\n\n\n    const data_delivery = {\n      // id_delivery:  Math.random.toString(),\n      fullname: information.fullname,\n      phone: information.phone\n    }; // Xứ lý API Delivery\n\n    const response_delivery = await NoteAPI.post_note(data_delivery); // data Order\n\n    const data_order = {\n      id_user: sessionStorage.getItem('id_user'),\n      address: information.address,\n      total: total_price,\n      status: \"1\",\n      pay: false,\n      id_payment: '6086709cdc52ab1ae999e882',\n      id_note: response_delivery._id,\n      feeship: price,\n      id_coupon: localStorage.getItem('id_coupon') ? localStorage.getItem('id_coupon') : '',\n      create_time: `${new Date().getDate()}/${parseInt(new Date().getMonth()) + 1}/${new Date().getFullYear()}`\n    }; // Xứ lý API Order\n\n    const response_order = await OrderAPI.post_order(data_order); // data carts\n\n    const data_carts = JSON.parse(localStorage.getItem('carts')); // Xử lý API Detail_Order\n\n    for (let i = 0; i < data_carts.length; i++) {\n      const data_detail_order = {\n        id_order: response_order._id,\n        id_product: data_carts[i].id_product,\n        name_product: data_carts[i].name_product,\n        price_product: data_carts[i].price_product,\n        count: data_carts[i].count,\n        size: data_carts[i].size\n      };\n      await Detail_OrderAPI.post_detail_order(data_detail_order);\n    } // data email\n    // const data_email = {\n    //     id_order: response_order._id,\n    //     total: total_price,\n    //     fullname: information.fullname,\n    //     phone: information.phone,\n    //     price: price,\n    //     address: information.address,\n    //     email: information.email\n    // }\n    // Gửi socket lên server\n\n\n    socket.emit('send_order', \"Có người vừa đặt hàng\"); // Xử lý API Send Mail\n    // const send_mail = await OrderAPI.post_email(data_email)\n    // console.log(send_mail)\n\n    localStorage.removeItem('information');\n    localStorage.removeItem('total_price');\n    localStorage.removeItem('price');\n    localStorage.removeItem('id_coupon');\n    localStorage.removeItem('coupon');\n    localStorage.setItem('carts', JSON.stringify([]));\n    set_redirect(true); // Hàm này dùng để load lại phần header bằng Redux\n\n    const action_count_change = changeCount(count_change);\n    dispatch(action_count_change);\n  };\n\n  const Change_Load_Order = value => {\n    set_load_order(value);\n  }; //--------------- Xử lý Google API ------------------//\n\n\n  const [error_address, set_error_address] = useState(false);\n  const [from, set_from] = useState('155 Sư Vạn Hạnh, Phường 13, District 10, Ho Chi Minh City, Vietnam'); // Khoảng cách\n\n  const [distance, set_distance] = useState(''); // Thời gian đi trong bn phút\n\n  const [duration, set_duration] = useState(''); // Giá tiền\n\n  const [price, set_price] = useState(''); // Kiểm tra xem khách hàng đã nhập chỉ nhận hàng hay chưa\n\n  const handler_Next = () => {\n    if (!information.address) {\n      set_error_address(true);\n      return;\n    } // Sau khi mà đổ dữ liệu ở bên Jquery xong\n    // thì qua bên này mình sẽ lấy những giá trị vừa xử lý\n\n\n    const kilo = document.getElementById('in_kilo').innerHTML;\n    const duration_text = document.getElementById('duration_text').innerHTML;\n    const price_shipping = document.getElementById('price_shipping').innerHTML;\n    const to_places = document.getElementById('to_places').value;\n    console.log(kilo);\n    console.log(duration_text);\n    console.log(price_shipping);\n    set_distance(kilo);\n    set_duration(duration_text);\n    localStorage.setItem('price', price_shipping);\n    set_price(price_shipping);\n    set_information({\n      fullname: information.fullname,\n      phone: information.phone,\n      address: to_places,\n      email: information.email\n    });\n\n    if (kilo) {\n      set_load_map(false);\n      set_load_order_status(true); // Hiển thị phần checkout\n\n      set_check_action(true);\n    }\n  };\n\n  const handlerMomo = () => {\n    setOrderID(Math.random().toString());\n    console.log(\"Momo Thanh Cong\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [load_order && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper_loader\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loader\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"breadcrumb-area\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"breadcrumb-content\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"index.html\",\n                children: \"Home\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"active\",\n              children: \"Checkout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      style: {\n        paddingTop: '3rem',\n        paddingBottom: '3rem'\n      },\n      children: [load_map && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-6 col-12 pb-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkbox-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Check Distance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"checkout-form-list\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"From \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"required\",\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 365,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    name: \"from\",\n                    id: \"from_places\",\n                    disabled: \"true\",\n                    value: from\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"origin\",\n                    name: \"origin\",\n                    required: \"\",\n                    type: \"hidden\",\n                    value: from\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"checkout-form-list\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"To \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"required\",\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 376,\n                      columnNumber: 59\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"to_places\",\n                    placeholder: \"Enter A Location\",\n                    value: information.address,\n                    onChange: onChangeAddress\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 49\n                  }, this), error_address && /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: 'red'\n                    },\n                    children: \"* Address is required\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 382,\n                    columnNumber: 67\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"destination\",\n                    type: \"text\",\n                    name: \"destination\",\n                    required: \"\",\n                    type: \"hidden\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"checkout-form-list\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Travel Mode\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      id: \"travel_mode\",\n                      name: \"travel_mode\",\n                      children: /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"DRIVING\",\n                        children: \"DRIVING\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 393,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"result\",\n                  className: \"hide\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"Kilometers\",\n                      children: \"Kilometers: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 403,\n                      columnNumber: 53\n                    }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"label\", {\n                      id: \"in_kilo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 404,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"Duration\",\n                      children: \"Duration: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 53\n                    }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"label\", {\n                      id: \"duration_text\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 408,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"Price\",\n                      children: \"Shipping Cost: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 411,\n                      columnNumber: 53\n                    }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"label\", {\n                      id: \"price_shipping\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 412,\n                      columnNumber: 57\n                    }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"VN\\u0110\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 413,\n                      columnNumber: 63\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 410,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"order-button-payment\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    value: \"CHECKING\",\n                    type: \"submit\",\n                    id: \"distance_form\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 419,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-12\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-end\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"order-button-payment\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      value: \"Next\",\n                      onClick: handler_Next,\n                      id: \"distance_next\",\n                      type: \"submit\",\n                      style: {\n                        padding: '.4rem 1.6rem'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 425,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-6 col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"map\",\n            style: {\n              height: '400px',\n              width: '500px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 25\n      }, this), load_order_status && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-6 col-12 pb-5\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit(handler_Checkout),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"checkbox-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Billing Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"checkout-form-list\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: [\"Full Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"required\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 448,\n                        columnNumber: 70\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 448,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      placeholder: \"Enter Fullname\",\n                      type: \"text\",\n                      name: \"fullname\",\n                      ref: register({\n                        required: true\n                      }),\n                      value: information.fullname,\n                      onChange: onChangeFullname\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 449,\n                      columnNumber: 53\n                    }, this), errors.fullname && errors.fullname.type === \"required\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: 'red'\n                      },\n                      children: \"* Fullname is required\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 112\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 447,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"checkout-form-list\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: [\"Phone Number \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"required\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 458,\n                        columnNumber: 73\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 458,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      placeholder: \"Enter Phone Number\",\n                      type: \"text\",\n                      name: \"phone\",\n                      ref: register({\n                        required: true\n                      }),\n                      value: information.phone,\n                      onChange: onChangePhone\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 459,\n                      columnNumber: 53\n                    }, this), errors.phone && errors.phone.type === \"required\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: 'red'\n                      },\n                      children: \"* Phone Number is required\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 463,\n                      columnNumber: 106\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 457,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"checkout-form-list\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: [\"Address \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"required\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 468,\n                        columnNumber: 68\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 468,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      placeholder: \"Street address\",\n                      type: \"text\",\n                      name: \"address\",\n                      ref: register({\n                        required: true\n                      }),\n                      value: information.address,\n                      onChange: onChangeAddress,\n                      disabled: \"true\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 469,\n                      columnNumber: 53\n                    }, this), errors.address && errors.address.type === \"required\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: 'red'\n                      },\n                      children: \"* Address is required\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 474,\n                      columnNumber: 110\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 467,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"checkout-form-list\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: [\"Email \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"required\",\n                        children: \"*\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 479,\n                        columnNumber: 66\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 479,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      placeholder: \"Enter Email\",\n                      type: \"email\",\n                      name: \"email\",\n                      ref: register({\n                        required: true\n                      }),\n                      value: information.email,\n                      onChange: onChangeEmail\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 480,\n                      columnNumber: 53\n                    }, this), errors.email && errors.email.type === \"required\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: 'red'\n                      },\n                      children: \"* Email is required\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 484,\n                      columnNumber: 106\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 478,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"order-button-payment\",\n                    children: [redirect && /*#__PURE__*/_jsxDEV(Redirect, {\n                      to: \"/success\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 490,\n                      columnNumber: 69\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      value: \"Place order\",\n                      type: \"submit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 492,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-6 col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"your-order\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Your order\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"your-order-table table-responsive\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"table\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"cart-product-name\",\n                      children: \"Product\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 506,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"cart-product-total\",\n                      children: \"Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 507,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 505,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: carts && carts.map(value => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"cart_item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"cart-product-name\",\n                      children: [value.name_product, /*#__PURE__*/_jsxDEV(\"strong\", {\n                        className: \"product-quantity\",\n                        children: [\" \\xD7 \", value.count]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 514,\n                        columnNumber: 115\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 514,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"cart-product-total\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"amount\",\n                        children: new Intl.NumberFormat('vi-VN', {\n                          style: 'decimal',\n                          decimal: 'VND'\n                        }).format(parseInt(value.price_product) * parseInt(value.count)) + ' VNĐ'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 515,\n                        columnNumber: 96\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 515,\n                      columnNumber: 61\n                    }, this)]\n                  }, value._id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 513,\n                    columnNumber: 57\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"cart-subtotal\",\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Shipping Cost\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 522,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"amount\",\n                        children: new Intl.NumberFormat('vi-VN', {\n                          style: 'decimal',\n                          decimal: 'VND'\n                        }).format(price) + ' VNĐ'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 523,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 523,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"cart-subtotal\",\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Discount\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 526,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"amount\",\n                        children: new Intl.NumberFormat('vi-VN', {\n                          style: 'decimal',\n                          decimal: 'VND'\n                        }).format(discount) + ' VNĐ'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 527,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 527,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"order-total\",\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Order Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 530,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"amount\",\n                          children: new Intl.NumberFormat('vi-VN', {\n                            style: 'decimal',\n                            decimal: 'VND'\n                          }).format(total_price) + ' VNĐ'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 531,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 531,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 531,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 529,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"payment-method\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"payment-accordion\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"accordion\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"card-header\",\n                      id: \"#payment-3\",\n                      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"panel-title\",\n                        children: /*#__PURE__*/_jsxDEV(\"a\", {\n                          className: \"collapsed\",\n                          \"data-toggle\": \"collapse\",\n                          \"data-target\": \"#collapseThree\",\n                          \"aria-expanded\": \"false\",\n                          \"aria-controls\": \"collapseThree\",\n                          children: \"PayPal\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 542,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 541,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 540,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      id: \"collapseThree\",\n                      className: \"collapse\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"card-body\",\n                        children: show_error ? 'Please Checking Information!' : /*#__PURE__*/_jsxDEV(Paypal, {\n                          information: information,\n                          total: total_price,\n                          Change_Load_Order: Change_Load_Order,\n                          from: from,\n                          distance: distance,\n                          duration: duration,\n                          price: price\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 551,\n                          columnNumber: 69\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 548,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 547,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 539,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 538,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"card-header\",\n                      id: \"#payment-3\",\n                      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"panel-title\",\n                        children: /*#__PURE__*/_jsxDEV(\"a\", {\n                          className: \"collapsed\",\n                          \"data-toggle\": \"collapse\",\n                          \"data-target\": \"#collapseMomo\",\n                          \"aria-expanded\": \"false\",\n                          \"aria-controls\": \"collapseMomo\",\n                          children: \"MoMo\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 569,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 568,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 567,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      id: \"collapseMomo\",\n                      className: \"collapse\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"card-body\",\n                        children: show_error ? 'Please Checking Information!' : /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                            src: \"https://developers.momo.vn/images/logo.png\",\n                            width: \"50\",\n                            onClick: handlerMomo,\n                            style: {\n                              cursor: 'pointer'\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 579,\n                            columnNumber: 69\n                          }, this), /*#__PURE__*/_jsxDEV(MoMo, {\n                            orderID: orderID,\n                            total: total_price\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 581,\n                            columnNumber: 69\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 578,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 575,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 574,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 566,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 565,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 334,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Checkout, \"IvWYxEfT3Wc3g+JuM4s6+SJtMYY=\", false, function () {\n  return [useForm, useSelector, useDispatch];\n});\n\n_c = Checkout;\nexport default Checkout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"sources":["D:/class/cnWeb/QLNH/client_app/src/Checkout/Checkout.jsx"],"names":["React","useEffect","useState","io","OrderAPI","Paypal","useForm","Redirect","changeCount","useDispatch","useSelector","NoteAPI","Detail_OrderAPI","CouponAPI","MoMo","socket","transports","jsonp","connect","Checkout","propTypes","props","orderID","setOrderID","carts","set_carts","total_price","set_total_price","discount","set_discount","load_map","set_load_map","load_order_status","set_load_order_status","check_action","set_check_action","JSON","parse","localStorage","getItem","Sum_Price","sum_price","map","value","Number","count","price_product","total","coupon","parseInt","promotion","newTotal","price","setItem","show_error","set_show_error","information","set_information","fullname","phone","address","email","onChangeFullname","e","target","onChangePhone","onChangeAddress","onChangeEmail","checkValidation","stringify","register","handleSubmit","errors","redirect","set_redirect","load_order","set_load_order","count_change","state","Count","isLoad","dispatch","handler_Checkout","data","responseUpdate","updateCoupon","console","log","data_delivery","response_delivery","post_note","data_order","id_user","sessionStorage","status","pay","id_payment","id_note","_id","feeship","id_coupon","create_time","Date","getDate","getMonth","getFullYear","response_order","post_order","data_carts","i","length","data_detail_order","id_order","id_product","name_product","size","post_detail_order","emit","removeItem","action_count_change","Change_Load_Order","error_address","set_error_address","from","set_from","distance","set_distance","duration","set_duration","set_price","handler_Next","kilo","document","getElementById","innerHTML","duration_text","price_shipping","to_places","handlerMomo","Math","random","toString","paddingTop","paddingBottom","color","padding","height","width","required","type","Intl","NumberFormat","style","decimal","format","cursor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport io from \"socket.io-client\";\r\n\r\nimport './Checkout.css'\r\nimport OrderAPI from '../API/OrderAPI';\r\nimport Paypal from './Paypal';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { changeCount } from '../Redux/Action/ActionCount';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport NoteAPI from '../API/NoteAPI';\r\nimport Detail_OrderAPI from '../API/Detail_OrderAPI';\r\nimport CouponAPI from '../API/CouponAPI';\r\nimport MoMo from './MoMo.jsx'\r\n\r\nconst socket = io('https://hieusuper20hcm.herokuapp.com/', {\r\n    transports: ['websocket'], jsonp: false\r\n});\r\nsocket.connect();\r\n\r\nCheckout.propTypes = {\r\n\r\n};\r\n\r\n\r\nfunction Checkout(props) {\r\n\r\n    const [orderID, setOrderID] = useState('')\r\n\r\n    const [carts, set_carts] = useState([])\r\n\r\n    const [total_price, set_total_price] = useState(0)\r\n\r\n    const [discount, set_discount] = useState(0)\r\n\r\n    // state load_map\r\n    const [load_map, set_load_map] = useState(true)\r\n\r\n    // state load_order\r\n    const [load_order_status, set_load_order_status] = useState(false)\r\n\r\n    const [check_action, set_check_action] = useState(false)\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if (check_action) {\r\n\r\n            set_carts(JSON.parse(localStorage.getItem('carts')))\r\n\r\n            Sum_Price(JSON.parse(localStorage.getItem('carts')), 0)\r\n\r\n            set_check_action(false)\r\n        }\r\n\r\n    }, [check_action])\r\n\r\n    // Hàm này dùng để tính tổng tiền\r\n    function Sum_Price(carts, sum_price) {\r\n\r\n        carts.map(value => {\r\n            return sum_price += Number(value.count) * Number(value.price_product)\r\n        })\r\n\r\n        const total = Number(sum_price)\r\n\r\n        if (localStorage.getItem('coupon')){\r\n            // GET localStorage\r\n            const coupon = JSON.parse(localStorage.getItem('coupon'))\r\n\r\n            set_discount((total * parseInt(coupon.promotion)) / 100)\r\n\r\n            const newTotal = total - ((total * parseInt(coupon.promotion)) / 100) + Number(price)\r\n\r\n            localStorage.setItem(\"total_price\", newTotal)\r\n\r\n            set_total_price(newTotal)\r\n        }else{\r\n            \r\n            localStorage.setItem(\"total_price\", total + Number(price))\r\n\r\n            set_total_price(total + Number(price))\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const [show_error, set_show_error] = useState(false)\r\n\r\n    const [information, set_information] = useState({\r\n        fullname: '',\r\n        phone: '',\r\n        address: '',\r\n        email: ''\r\n    })\r\n\r\n    const onChangeFullname = (e) => {\r\n        set_information({\r\n            fullname: e.target.value,\r\n            phone: information.phone,\r\n            address: information.address,\r\n            email: information.email\r\n        })\r\n    }\r\n    const onChangePhone = (e) => {\r\n        set_information({\r\n            fullname: information.fullname,\r\n            phone: e.target.value,\r\n            address: information.address,\r\n            email: information.email\r\n        })\r\n    }\r\n\r\n    const onChangeAddress = (e) => {\r\n        set_information({\r\n            fullname: information.fullname,\r\n            phone: information.phone,\r\n            address: e.target.value,\r\n            email: information.email\r\n        })\r\n    }\r\n    const onChangeEmail = (e) => {\r\n        set_information({\r\n            fullname: information.fullname,\r\n            phone: information.phone,\r\n            address: information.address,\r\n            email: e.target.value\r\n        })\r\n    }\r\n\r\n    // Hàm này dùng để check validation cho paypal\r\n    useEffect(() => {\r\n\r\n        checkValidation()\r\n\r\n    }, [information])\r\n\r\n    // Kiểm tra Paypal\r\n    function checkValidation() {\r\n        if (information.fullname === '') {\r\n            set_show_error(true)\r\n        } else {\r\n            if (information.phone === '') {\r\n                set_show_error(true)\r\n            } else {\r\n                if (information.email === '') {\r\n                    \r\n                    localStorage.setItem('information', JSON.stringify(information))\r\n\r\n                    set_show_error(true)\r\n                } else {\r\n                    set_show_error(false)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const { register, handleSubmit, errors } = useForm();\r\n\r\n    const [redirect, set_redirect] = useState(false)\r\n\r\n\r\n    const [load_order, set_load_order] = useState(false)\r\n\r\n    const count_change = useSelector(state => state.Count.isLoad)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    // Hàm này dùng để thanh toán offline\r\n    const handler_Checkout = async (data) => {\r\n\r\n        set_load_order(true)\r\n\r\n        if (localStorage.getItem(\"id_coupon\")){\r\n\r\n            const responseUpdate = await CouponAPI.updateCoupon(localStorage.getItem(\"id_coupon\"))\r\n            console.log(responseUpdate)\r\n\r\n        }\r\n\r\n        // data Delivery\r\n        const data_delivery = {\r\n            // id_delivery:  Math.random.toString(),\r\n            fullname: information.fullname,\r\n            phone: information.phone,\r\n        }\r\n\r\n        // Xứ lý API Delivery\r\n        const response_delivery = await NoteAPI.post_note(data_delivery)\r\n\r\n        // data Order\r\n        const data_order = {\r\n            id_user: sessionStorage.getItem('id_user'),\r\n            address: information.address,\r\n            total: total_price,\r\n            status: \"1\",\r\n            pay: false,\r\n            id_payment: '6086709cdc52ab1ae999e882',\r\n            id_note: response_delivery._id,\r\n            feeship: price,\r\n            id_coupon: localStorage.getItem('id_coupon') ? localStorage.getItem('id_coupon') : '',\r\n            create_time: `${new Date().getDate()}/${parseInt(new Date().getMonth()) + 1}/${new Date().getFullYear()}`\r\n        }\r\n\r\n        // Xứ lý API Order\r\n        const response_order = await OrderAPI.post_order(data_order)\r\n\r\n        // data carts\r\n        const data_carts = JSON.parse(localStorage.getItem('carts'))\r\n\r\n        // Xử lý API Detail_Order\r\n        for (let i = 0; i < data_carts.length; i++) {\r\n\r\n            const data_detail_order = {\r\n                id_order: response_order._id,\r\n                id_product: data_carts[i].id_product,\r\n                name_product: data_carts[i].name_product,\r\n                price_product: data_carts[i].price_product,\r\n                count: data_carts[i].count,\r\n                size: data_carts[i].size\r\n            }\r\n\r\n            await Detail_OrderAPI.post_detail_order(data_detail_order)\r\n\r\n        }\r\n\r\n        // data email\r\n        // const data_email = {\r\n        //     id_order: response_order._id,\r\n        //     total: total_price,\r\n        //     fullname: information.fullname,\r\n        //     phone: information.phone,\r\n        //     price: price,\r\n        //     address: information.address,\r\n        //     email: information.email\r\n        // }\r\n\r\n        // Gửi socket lên server\r\n        socket.emit('send_order', \"Có người vừa đặt hàng\")\r\n        // Xử lý API Send Mail\r\n\r\n        // const send_mail = await OrderAPI.post_email(data_email)\r\n        // console.log(send_mail)\r\n\r\n        localStorage.removeItem('information')\r\n        localStorage.removeItem('total_price')\r\n        localStorage.removeItem('price')\r\n        localStorage.removeItem('id_coupon')\r\n        localStorage.removeItem('coupon')\r\n        localStorage.setItem('carts', JSON.stringify([]))\r\n\r\n        set_redirect(true)\r\n\r\n\r\n        // Hàm này dùng để load lại phần header bằng Redux\r\n        const action_count_change = changeCount(count_change)\r\n        dispatch(action_count_change)\r\n\r\n    }\r\n\r\n    const Change_Load_Order = (value) => {\r\n\r\n        set_load_order(value)\r\n\r\n    }\r\n\r\n\r\n    //--------------- Xử lý Google API ------------------//\r\n\r\n    const [error_address, set_error_address] = useState(false)\r\n\r\n    const [from, set_from] = useState('155 Sư Vạn Hạnh, Phường 13, District 10, Ho Chi Minh City, Vietnam')\r\n\r\n    // Khoảng cách\r\n    const [distance, set_distance] = useState('')\r\n\r\n    // Thời gian đi trong bn phút\r\n    const [duration, set_duration] = useState('')\r\n\r\n    // Giá tiền\r\n    const [price, set_price] = useState('')\r\n\r\n\r\n    // Kiểm tra xem khách hàng đã nhập chỉ nhận hàng hay chưa\r\n    const handler_Next = () => {\r\n\r\n        if (!information.address) {\r\n            set_error_address(true)\r\n            return\r\n        }\r\n\r\n        // Sau khi mà đổ dữ liệu ở bên Jquery xong\r\n        // thì qua bên này mình sẽ lấy những giá trị vừa xử lý\r\n\r\n        const kilo = document.getElementById('in_kilo').innerHTML\r\n        const duration_text = document.getElementById('duration_text').innerHTML\r\n        const price_shipping = document.getElementById('price_shipping').innerHTML\r\n        const to_places = document.getElementById('to_places').value\r\n\r\n        console.log(kilo)\r\n        console.log(duration_text)\r\n        console.log(price_shipping)\r\n\r\n        set_distance(kilo)\r\n        set_duration(duration_text)\r\n\r\n        localStorage.setItem('price', price_shipping)\r\n        set_price(price_shipping)\r\n\r\n        set_information({\r\n            fullname: information.fullname,\r\n            phone: information.phone,\r\n            address: to_places,\r\n            email: information.email\r\n        })\r\n        if (kilo) {\r\n            set_load_map(false)\r\n            set_load_order_status(true) // Hiển thị phần checkout\r\n            set_check_action(true)\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const handlerMomo = () => {\r\n\r\n        setOrderID(Math.random().toString())\r\n        console.log(\"Momo Thanh Cong\")\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n\r\n            {\r\n                load_order && (\r\n                    <div className=\"wrapper_loader\">\r\n                        <div className=\"loader\"></div>\r\n                    </div>\r\n                )\r\n            }\r\n\r\n            <div className=\"breadcrumb-area\">\r\n                <div className=\"container\">\r\n                    <div className=\"breadcrumb-content\">\r\n                        <ul>\r\n                            <li><a href=\"index.html\">Home</a></li>\r\n                            <li className=\"active\">Checkout</li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"container\" style={{ paddingTop: '3rem', paddingBottom: '3rem' }}>\r\n                {\r\n                    load_map && (\r\n                        <div className=\"row\">\r\n                            <div className=\"col-lg-6 col-12 pb-5\">\r\n                                <div className=\"checkbox-form\">\r\n                                    <h3>Check Distance</h3>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-md-12\">\r\n                                            <div className=\"checkout-form-list\">\r\n                                                <label>From <span className=\"required\">*</span></label>\r\n                                                <input type=\"text\" name=\"from\"\r\n                                                    id=\"from_places\"\r\n                                                    disabled=\"true\"\r\n                                                    value={from} />\r\n                                                <input id=\"origin\" name=\"origin\" required=\"\" type=\"hidden\"\r\n                                                    value={from} />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"col-md-12\">\r\n                                            <div className=\"checkout-form-list\">\r\n                                                <label>To <span className=\"required\">*</span></label>\r\n                                                <input type=\"text\"\r\n                                                    id=\"to_places\"\r\n                                                    placeholder=\"Enter A Location\"\r\n                                                    value={information.address}\r\n                                                    onChange={onChangeAddress} />\r\n                                                {error_address && <span style={{ color: 'red' }}>* Address is required</span>}\r\n                                                <input id=\"destination\" type=\"text\" name=\"destination\" required=\"\" type=\"hidden\" />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"col-md-12\">\r\n                                            <div className=\"checkout-form-list\">\r\n                                                <div className=\"form-group\">\r\n                                                    <label>\r\n                                                        Travel Mode\r\n                                                        </label>\r\n                                                    <select id=\"travel_mode\" name=\"travel_mode\">\r\n                                                        <option value=\"DRIVING\">\r\n                                                            DRIVING\r\n                                                            </option>\r\n                                                    </select>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"col-md-12\">\r\n                                            <div id=\"result\" className=\"hide\">\r\n                                                <div>\r\n                                                    <label htmlFor=\"Kilometers\">Kilometers: </label>&nbsp;\r\n                                                        <label id=\"in_kilo\"></label>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <label htmlFor=\"Duration\">Duration: </label>&nbsp;\r\n                                                        <label id=\"duration_text\"></label>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <label htmlFor=\"Price\">Shipping Cost: </label>&nbsp;\r\n                                                        <label id=\"price_shipping\"></label>\r\n                                                        &nbsp;<label>VNĐ</label>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"col-md-12\">\r\n                                            <div className=\"order-button-payment\">\r\n                                                <input value=\"CHECKING\" type=\"submit\" id=\"distance_form\" />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"col-md-12\">\r\n                                            <div className=\"d-flex justify-content-end\">\r\n                                                <div className=\"order-button-payment\">\r\n                                                    <input value=\"Next\" onClick={handler_Next} id=\"distance_next\" type=\"submit\" style={{ padding: '.4rem 1.6rem' }} />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-lg-6 col-12\">\r\n                                <div id=\"map\" style={{ height: '400px', width: '500px' }}></div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n                {\r\n                    load_order_status && (\r\n                        <div className=\"row\">\r\n                            <div className=\"col-lg-6 col-12 pb-5\">\r\n                                <form onSubmit={handleSubmit(handler_Checkout)}>\r\n                                    <div className=\"checkbox-form\">\r\n                                        <h3>Billing Details</h3>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-md-12\">\r\n                                                <div className=\"checkout-form-list\">\r\n                                                    <label>Full Name <span className=\"required\">*</span></label>\r\n                                                    <input placeholder=\"Enter Fullname\" type=\"text\" name=\"fullname\"\r\n                                                        ref={register({ required: true })}\r\n                                                        value={information.fullname}\r\n                                                        onChange={onChangeFullname} />\r\n                                                    {errors.fullname && errors.fullname.type === \"required\" && <span style={{ color: 'red' }}>* Fullname is required</span>}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"col-md-12\">\r\n                                                <div className=\"checkout-form-list\">\r\n                                                    <label>Phone Number <span className=\"required\">*</span></label>\r\n                                                    <input placeholder=\"Enter Phone Number\" type=\"text\" name=\"phone\"\r\n                                                        ref={register({ required: true })}\r\n                                                        value={information.phone}\r\n                                                        onChange={onChangePhone} />\r\n                                                    {errors.phone && errors.phone.type === \"required\" && <span style={{ color: 'red' }}>* Phone Number is required</span>}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"col-md-12\">\r\n                                                <div className=\"checkout-form-list\">\r\n                                                    <label>Address <span className=\"required\">*</span></label>\r\n                                                    <input placeholder=\"Street address\" type=\"text\" name=\"address\"\r\n                                                        ref={register({ required: true })}\r\n                                                        value={information.address}\r\n                                                        onChange={onChangeAddress}\r\n                                                        disabled=\"true\" />\r\n                                                    {errors.address && errors.address.type === \"required\" && <span style={{ color: 'red' }}>* Address is required</span>}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"col-md-12\">\r\n                                                <div className=\"checkout-form-list\">\r\n                                                    <label>Email <span className=\"required\">*</span></label>\r\n                                                    <input placeholder=\"Enter Email\" type=\"email\" name=\"email\"\r\n                                                        ref={register({ required: true })}\r\n                                                        value={information.email}\r\n                                                        onChange={onChangeEmail} />\r\n                                                    {errors.email && errors.email.type === \"required\" && <span style={{ color: 'red' }}>* Email is required</span>}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"col-md-12\">\r\n                                                <div className=\"order-button-payment\">\r\n                                                    {\r\n                                                        redirect && <Redirect to=\"/success\" />\r\n                                                    }\r\n                                                    <input value=\"Place order\" type=\"submit\" />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                            <div className=\"col-lg-6 col-12\">\r\n                                <div className=\"your-order\">\r\n                                    <h3>Your order</h3>\r\n                                    <div className=\"your-order-table table-responsive\">\r\n                                        <table className=\"table\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th className=\"cart-product-name\">Product</th>\r\n                                                    <th className=\"cart-product-total\">Total</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {\r\n                                                    carts && carts.map(value => (\r\n                                                        <tr className=\"cart_item\" key={value._id}>\r\n                                                            <td className=\"cart-product-name\">{value.name_product}<strong className=\"product-quantity\"> × {value.count}</strong></td>\r\n                                                            <td className=\"cart-product-total\"><span className=\"amount\">{new Intl.NumberFormat('vi-VN',{style: 'decimal',decimal: 'VND'}).format(parseInt(value.price_product) * parseInt(value.count)) + ' VNĐ'}</span></td>\r\n                                                        </tr>\r\n                                                    ))\r\n                                                }\r\n                                            </tbody>\r\n                                            <tfoot>\r\n                                                <tr className=\"cart-subtotal\">\r\n                                                    <th>Shipping Cost</th>\r\n                                                    <td><span className=\"amount\">{new Intl.NumberFormat('vi-VN',{style: 'decimal',decimal: 'VND'}).format(price) + ' VNĐ'}</span></td>\r\n                                                </tr>\r\n                                                <tr className=\"cart-subtotal\">\r\n                                                    <th>Discount</th>\r\n                                                    <td><span className=\"amount\">{new Intl.NumberFormat('vi-VN',{style: 'decimal',decimal: 'VND'}).format(discount) + ' VNĐ'}</span></td>\r\n                                                </tr>\r\n                                                <tr className=\"order-total\">\r\n                                                    <th>Order Total</th>\r\n                                                    <td><strong><span className=\"amount\">{new Intl.NumberFormat('vi-VN',{style: 'decimal',decimal: 'VND'}).format(total_price) + ' VNĐ'}</span></strong></td>\r\n                                                </tr>\r\n                                            </tfoot>\r\n                                        </table>\r\n                                    </div>\r\n                                    <div className=\"payment-method\">\r\n                                        <div className=\"payment-accordion\">\r\n                                            <div id=\"accordion\">\r\n                                                <div className=\"card\">\r\n                                                    <div className=\"card-header\" id=\"#payment-3\">\r\n                                                        <h5 className=\"panel-title\">\r\n                                                            <a className=\"collapsed\" data-toggle=\"collapse\" data-target=\"#collapseThree\" aria-expanded=\"false\" aria-controls=\"collapseThree\">\r\n                                                                PayPal\r\n                                                </a>\r\n                                                        </h5>\r\n                                                    </div>\r\n                                                    <div id=\"collapseThree\" className=\"collapse\">\r\n                                                        <div className=\"card-body\">\r\n                                                            {\r\n                                                                show_error ? 'Please Checking Information!' :\r\n                                                                    <Paypal\r\n                                                                        information={information}\r\n                                                                        total={total_price}\r\n                                                                        Change_Load_Order={Change_Load_Order}\r\n                                                                        from={from}\r\n                                                                        distance={distance}\r\n                                                                        duration={duration}\r\n                                                                        price={price}\r\n                                                                    />\r\n                                                            }\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div>\r\n                                                <div className=\"card\">\r\n                                                    <div className=\"card-header\" id=\"#payment-3\">\r\n                                                        <h5 className=\"panel-title\">\r\n                                                            <a className=\"collapsed\" data-toggle=\"collapse\" data-target=\"#collapseMomo\" aria-expanded=\"false\" aria-controls=\"collapseMomo\">\r\n                                                                MoMo\r\n                                                        </a>\r\n                                                        </h5>\r\n                                                    </div>\r\n                                                    <div id=\"collapseMomo\" className=\"collapse\">\r\n                                                        <div className=\"card-body\">\r\n                                                            {\r\n                                                                show_error ? 'Please Checking Information!' :\r\n                                                                <div>\r\n                                                                    <img src=\"https://developers.momo.vn/images/logo.png\" width=\"50\" onClick={handlerMomo}\r\n                                                                    style={{ cursor: 'pointer' }} />\r\n                                                                    <MoMo \r\n                                                                        orderID={orderID}\r\n                                                                        total={total_price}\r\n                                                                        />\r\n                                                                </div>  \r\n                                                            }\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Checkout;"]},"metadata":{},"sourceType":"module"}