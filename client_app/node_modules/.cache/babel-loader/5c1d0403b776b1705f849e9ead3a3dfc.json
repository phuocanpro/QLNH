{"ast":null,"code":"var _jsxFileName = \"D:\\\\class\\\\cnWeb\\\\QLNH\\\\client_app\\\\src\\\\History\\\\Component\\\\MainHistory.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport queryString from 'query-string';\nimport OrderAPI from '../../API/OrderAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nMainHistory.propTypes = {};\n\nfunction MainHistory(props) {\n  _s();\n\n  const [history, set_history] = useState([]);\n  const [isLoad, setIsLoad] = useState(true);\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await OrderAPI.get_order(sessionStorage.getItem('id_user'));\n      console.log(response);\n      set_history(response);\n    };\n\n    fetchData();\n  }, [isLoad]);\n  const [show_error, set_show_error] = useState(false);\n\n  const deleteOrder = async (id, pay) => {\n    if (pay === true) {\n      set_show_error(true);\n      setTimeout(() => {\n        set_show_error(false);\n      }, 2000);\n      return;\n    }\n\n    if (!show_error) {\n      const params = {\n        id: id\n      };\n      const query = '?' + queryString.stringify(params);\n      const response = await OrderAPI.cancel_order(query);\n      console.log(response);\n      setIsLoad(!isLoad);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [show_error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal_success\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"group_model_success pt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-2\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-bell fix_icon_bell\",\n            style: {\n              fontSize: '40px',\n              color: '#fff',\n              backgroundColor: '#f84545'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-center p-3\",\n          style: {\n            color: '#fff'\n          },\n          children: \"Kh\\xF4ng Th\\u1EC3 H\\u1EE7y V\\xEC \\u0110\\u01A1n H\\xE0ng \\u0110\\xE3 \\u0110\\u01B0\\u1EE3c Thanh To\\xE1n!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"breadcrumb-area\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"breadcrumb-content\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/\",\n                children: \"Home\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"active\",\n              children: \"History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Shopping-cart-area pt-60 pb-60\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              action: \"#\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"table-content table-responsive\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"table\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"li-product-remove\",\n                        children: \"ID Invoice\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 96,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"li-product-thumbnail\",\n                        children: \"Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 97,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"cart-product-name\",\n                        children: \"Phone\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 98,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"li-product-price\",\n                        children: \"Address\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 99,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"li-product-quantity\",\n                        children: \"Total\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 100,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"li-product-subtotal\",\n                        children: \"Payment\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 101,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"li-product-subtotal\",\n                        children: \"Status\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 102,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"li-product-subtotal\",\n                        children: \"Cancel\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 103,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 95,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: history && history.map(value => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"li-product-price\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"amount\",\n                          children: /*#__PURE__*/_jsxDEV(Link, {\n                            to: `/history/${value._id}`,\n                            children: \"View\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 110,\n                            columnNumber: 115\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 110,\n                          columnNumber: 90\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 110,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"li-product-price\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"amount\",\n                          children: value.id_note.fullname\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 111,\n                          columnNumber: 90\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 111,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"li-product-price\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"amount\",\n                          children: value.id_note.phone\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 112,\n                          columnNumber: 90\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 112,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"li-product-price\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"amount\",\n                          children: value.address\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 113,\n                          columnNumber: 90\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 113,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"li-product-price\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"amount\",\n                          children: new Intl.NumberFormat('vi-VN', {\n                            style: 'decimal',\n                            decimal: 'VND'\n                          }).format(value.total) + ' VNĐ'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 115,\n                          columnNumber: 90\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 115,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"li-product-price\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"amount\",\n                          style: value.pay ? {\n                            color: 'green'\n                          } : {\n                            color: 'red'\n                          },\n                          children: value.pay ? 'Paid' : 'Unpaid'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 116,\n                          columnNumber: 90\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 116,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"li-product-price\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"amount\",\n                          children: value.status === '1' ? 'Processing' : value.status === '2' ? 'Confirmed' : value.status === '3' ? 'Shipping' : value.status === '4' ? 'Finished' : 'Canceled'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 117,\n                          columnNumber: 90\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 117,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"li-product-price\",\n                        children: (() => {\n                          switch (value.status) {\n                            case '1' || '2':\n                              return /*#__PURE__*/_jsxDEV(\"span\", {\n                                onClick: () => deleteOrder(value._id, value.pay),\n                                className: \"text-danger\",\n                                style: {\n                                  cursor: 'pointer'\n                                },\n                                children: \"X\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 129,\n                                columnNumber: 76\n                              }, this);\n\n                            case '2':\n                              return /*#__PURE__*/_jsxDEV(\"span\", {\n                                onClick: () => deleteOrder(value._id, value.pay),\n                                className: \"text-danger\",\n                                style: {\n                                  cursor: 'pointer'\n                                },\n                                children: \"X\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 131,\n                                columnNumber: 76\n                              }, this);\n\n                            case '3':\n                              return /*#__PURE__*/_jsxDEV(\"i\", {\n                                className: \"fa fa-check text-success\",\n                                style: {\n                                  fontSize: '25px'\n                                }\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 133,\n                                columnNumber: 76\n                              }, this);\n\n                            case '4':\n                              return /*#__PURE__*/_jsxDEV(\"i\", {\n                                className: \"fa fa-check text-success\",\n                                style: {\n                                  fontSize: '25px'\n                                }\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 135,\n                                columnNumber: 76\n                              }, this);\n\n                            default:\n                              return /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"text-danger\",\n                                children: \"Cancelled\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 137,\n                                columnNumber: 76\n                              }, this);\n                          }\n                        })()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 125,\n                        columnNumber: 57\n                      }, this)]\n                    }, value._id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 109,\n                      columnNumber: 53\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MainHistory, \"9mWXiCm0pb26e/e2OA/jWiHPNCg=\");\n\n_c = MainHistory;\nexport default MainHistory;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainHistory\");","map":{"version":3,"sources":["D:/class/cnWeb/QLNH/client_app/src/History/Component/MainHistory.jsx"],"names":["React","useEffect","useState","PropTypes","Link","queryString","OrderAPI","MainHistory","propTypes","props","history","set_history","isLoad","setIsLoad","fetchData","response","get_order","sessionStorage","getItem","console","log","show_error","set_show_error","deleteOrder","id","pay","setTimeout","params","query","stringify","cancel_order","fontSize","color","backgroundColor","map","value","_id","id_note","fullname","phone","address","Intl","NumberFormat","style","decimal","format","total","status","cursor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport queryString from 'query-string'\r\nimport OrderAPI from '../../API/OrderAPI';\r\n\r\nMainHistory.propTypes = {\r\n\r\n};\r\n\r\nfunction MainHistory(props) {\r\n\r\n    const [history, set_history] = useState([])\r\n\r\n    const [isLoad, setIsLoad] = useState(true)\r\n\r\n    useEffect(() => {\r\n\r\n        const fetchData = async () => {\r\n\r\n            const response = await OrderAPI.get_order(sessionStorage.getItem('id_user'))\r\n\r\n            console.log(response)\r\n\r\n            set_history(response)\r\n\r\n        }\r\n\r\n        fetchData()\r\n\r\n    }, [isLoad])\r\n\r\n    const [show_error, set_show_error] = useState(false)\r\n\r\n    const deleteOrder = async (id, pay) => {\r\n\r\n        if (pay === true){\r\n            set_show_error(true)\r\n\r\n            setTimeout(() => {\r\n                set_show_error(false)\r\n            }, 2000)\r\n            return\r\n        }\r\n\r\n        if (!show_error){\r\n            const params = {\r\n                id: id\r\n            }\r\n    \r\n            const query = '?' + queryString.stringify(params)\r\n    \r\n            const response = await OrderAPI.cancel_order(query)\r\n    \r\n            console.log(response)\r\n    \r\n            setIsLoad(!isLoad)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n\r\n            {\r\n                show_error &&\r\n                <div className=\"modal_success\">\r\n                    <div className=\"group_model_success pt-3\">\r\n                        <div className=\"text-center p-2\">\r\n                            <i className=\"fa fa-bell fix_icon_bell\" style={{ fontSize: '40px', color: '#fff', backgroundColor: '#f84545' }}></i>\r\n                        </div>\r\n                        <h4 className=\"text-center p-3\" style={{ color: '#fff' }}>Không Thể Hủy Vì Đơn Hàng Đã Được Thanh Toán!</h4>\r\n                    </div>\r\n                </div>\r\n            }\r\n            \r\n            <div className=\"breadcrumb-area\">\r\n                <div className=\"container\">\r\n                    <div className=\"breadcrumb-content\">\r\n                        <ul>\r\n                            <li><Link to=\"/\">Home</Link></li>\r\n                            <li className=\"active\">History</li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"Shopping-cart-area pt-60 pb-60\">\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12\">\r\n                            <form action=\"#\">\r\n                                <div className=\"table-content table-responsive\">\r\n                                    <table className=\"table\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th className=\"li-product-remove\">ID Invoice</th>\r\n                                                <th className=\"li-product-thumbnail\">Name</th>\r\n                                                <th className=\"cart-product-name\">Phone</th>\r\n                                                <th className=\"li-product-price\">Address</th>\r\n                                                <th className=\"li-product-quantity\">Total</th>\r\n                                                <th className=\"li-product-subtotal\">Payment</th>\r\n                                                <th className=\"li-product-subtotal\">Status</th>\r\n                                                <th className=\"li-product-subtotal\">Cancel</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {\r\n                                                history && history.map(value => (\r\n                                                    <tr key={value._id}>\r\n                                                        <td className=\"li-product-price\"><span className=\"amount\"><Link to={`/history/${value._id}`}>View</Link></span></td>\r\n                                                        <td className=\"li-product-price\"><span className=\"amount\">{value.id_note.fullname}</span></td>\r\n                                                        <td className=\"li-product-price\"><span className=\"amount\">{value.id_note.phone}</span></td>\r\n                                                        <td className=\"li-product-price\"><span className=\"amount\">{value.address}</span></td>\r\n\r\n                                                        <td className=\"li-product-price\"><span className=\"amount\">{new Intl.NumberFormat('vi-VN',{style: 'decimal',decimal: 'VND'}).format(value.total) + ' VNĐ'}</span></td>\r\n                                                        <td className=\"li-product-price\"><span className=\"amount\" style={value.pay ? { color: 'green' } : { color: 'red' }}>{value.pay ? 'Paid' : 'Unpaid'}</span></td>\r\n                                                        <td className=\"li-product-price\"><span className=\"amount\" >\r\n                                                            {\r\n                                                                value.status === '1' ? 'Processing' :\r\n                                                                    (value.status === '2' ? 'Confirmed' :\r\n                                                                        (value.status === '3' ? 'Shipping' :\r\n                                                                            (value.status === '4' ? 'Finished' : 'Canceled')))}\r\n                                                        </span>\r\n                                                        </td>\r\n                                                        <td className=\"li-product-price\">\r\n                                                        {(() => {\r\n                                                            switch(value.status) {\r\n                                                                case '1' || '2':\r\n                                                                    return <span onClick={() => deleteOrder(value._id, value.pay)} className=\"text-danger\" style={{ cursor: 'pointer' }}>X</span>\r\n                                                                case '2':\r\n                                                                    return <span onClick={() => deleteOrder(value._id, value.pay)} className=\"text-danger\" style={{ cursor: 'pointer' }}>X</span>\r\n                                                                case '3':\r\n                                                                    return <i className=\"fa fa-check text-success\" style={{ fontSize: '25px' }}></i>\r\n                                                                case '4':\r\n                                                                    return <i className=\"fa fa-check text-success\" style={{ fontSize: '25px' }}></i>\r\n                                                                default:\r\n                                                                    return <span className=\"text-danger\">Cancelled</span>\r\n                                                            }\r\n                                                        })()}\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                ))\r\n                                            }\r\n\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MainHistory;"]},"metadata":{},"sourceType":"module"}